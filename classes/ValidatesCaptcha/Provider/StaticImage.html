<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: ValidatesCaptcha::Provider::StaticImage [Validates Captcha]</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          ValidatesCaptcha::Provider::StaticImage
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../../files/lib/validates_captcha/provider/static_image_rb.html">lib/validates_captcha/provider/static_image.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong>Object</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            An image captcha provider that relies on pre-created captcha images.
            </p>
            <p>
            There is a Rake tast for creating the captcha images:
            </p>
            <pre>rake validates_captcha:create_static_images</pre>
            <p>
            This will create 3 images in <a
            href="StaticImage.html#M000021">filesystem_dir</a>. To create a different
            number of images, provide a COUNT argument:
            </p>
            <pre>rake validates_captcha:create_static_images COUNT=50</pre>
            <p>
            This class contains the getters and setters for the backend classes: image
            generator and string generator. This allows you to replace them with your
            custom implementations. For more information on how to bring the image
            provider to use your own implementation instead of the default one, consult
            the documentation for the specific default class.
            </p>
            <p>
            The default captcha image generator uses ImageMagick&#8217;s
            <tt>convert</tt> command to create the captcha. So a recent and properly
            configured version of ImageMagick must be installed on the system. The
            version used while developing was 6.4.5. But you are not bound to
            ImageMagick. If you want to provide a custom image generator, take a look
            at the documentation for <a
            href="../ImageGenerator/Simple.html">ValidatesCaptcha::ImageGenerator::Simple</a>
            on how to create your own.
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000028">create_image</a></li>
              <li><a href="#M000027">encrypt</a></li>
              <li><a href="#M000021">filesystem_dir</a></li>
              <li><a href="#M000022">filesystem_dir=</a></li>
              <li><a href="#M000019">image_generator</a></li>
              <li><a href="#M000020">image_generator=</a></li>
              <li><a href="#M000025">salt</a></li>
              <li><a href="#M000026">salt=</a></li>
              <li><a href="#M000017">string_generator</a></li>
              <li><a href="#M000018">string_generator=</a></li>
              <li><a href="#M000023">web_dir</a></li>
              <li><a href="#M000024">web_dir=</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000029">call</a></li>
              <li><a href="#M000031">challenges</a></li>
              <li><a href="#M000032">generate_challenge</a></li>
              <li><a href="#M000030">images</a></li>
              <li><a href="#M000034">render_challenge</a></li>
              <li><a href="#M000035">render_regenerate_challenge_link</a></li>
              <li><a href="#M000033">solved?</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li>ActionView::Helpers</li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>SALT</td>
                    <td>=</td>
                    <td class='context-item-value'>&quot;3f(61&amp;831_fa0712d4a?b58-eb4b8$a2%.36378f&quot;.freeze</td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M000028'>
                <a name='M000028'></a>
                <div class='synopsis'>
                  <span class='name'>create_image</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a captcha image in the <a
                  href="StaticImage.html#M000021">filesystem_dir</a> and returns the path to
                  it and the code displayed on the image.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000028-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000028-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 107</span>&#x000A;107:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_image</span>&#x000A;108:           <span class="ruby-identifier">code</span> = <span class="ruby-identifier">string_generator</span>.<span class="ruby-identifier">generate</span>&#x000A;109:           <span class="ruby-identifier">encrypted_code</span> = <span class="ruby-identifier">encrypt</span>(<span class="ruby-identifier">code</span>)&#x000A;110: &#x000A;111:           <span class="ruby-identifier">image_filename</span> = <span class="ruby-node">&quot;#{encrypted_code}#{image_generator.file_extension}&quot;</span>&#x000A;112:           <span class="ruby-identifier">image_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">filesystem_dir</span>, <span class="ruby-identifier">image_filename</span>)&#x000A;113:           <span class="ruby-identifier">image_bytes</span> = <span class="ruby-identifier">image_generator</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">code</span>)&#x000A;114: &#x000A;115:           <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">image_path</span>, <span class="ruby-value str">'w'</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">os</span><span class="ruby-operator">|</span>&#x000A;116:             <span class="ruby-identifier">os</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">image_bytes</span>&#x000A;117:           <span class="ruby-keyword kw">end</span>&#x000A;118: &#x000A;119:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">image_path</span>, <span class="ruby-identifier">code</span>&#x000A;120:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000027'>
                <a name='M000027'></a>
                <div class='synopsis'>
                  <span class='name'>encrypt</span>
                  <span class='arguments'>(code)</span>
                </div>
                <div class='description'>
                  <p>
                  Return the encryption of the <tt>code</tt> using <a
                  href="StaticImage.html#M000025">salt</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000027-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000027-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 101</span>&#x000A;101:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">encrypt</span>(<span class="ruby-identifier">code</span>)&#x000A;102:           <span class="ruby-operator">::</span><span class="ruby-constant">Digest</span><span class="ruby-operator">::</span><span class="ruby-constant">SHA1</span>.<span class="ruby-identifier">hexdigest</span> <span class="ruby-node">&quot;#{salt}--#{code}&quot;</span>&#x000A;103:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000021'>
                <a name='M000021'></a>
                <div class='synopsis'>
                  <span class='name'>filesystem_dir</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the current captcha image file system directory. Defaults to
                  <tt>RAILS_ROOT/public/images/captchas</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000021-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000021-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 67</span>&#x000A;67:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filesystem_dir</span>&#x000A;68:           <span class="ruby-ivar">@@filesystem_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-operator">::</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Rails</span>.<span class="ruby-identifier">public_path</span>, <span class="ruby-value str">'images'</span>, <span class="ruby-value str">'captchas'</span>)&#x000A;69:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000022'>
                <a name='M000022'></a>
                <div class='synopsis'>
                  <span class='name'>filesystem_dir=</span>
                  <span class='arguments'>(dir)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the current captcha image file system directory. Used to set a custom
                  image directory.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000022-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000022-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 73</span>&#x000A;73:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">filesystem_dir=</span>(<span class="ruby-identifier">dir</span>)&#x000A;74:           <span class="ruby-ivar">@@filesystem_dir</span> = <span class="ruby-identifier">dir</span>&#x000A;75:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000019'>
                <a name='M000019'></a>
                <div class='synopsis'>
                  <span class='name'>image_generator</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the current captcha image generator. Defaults to an instance of the
                  <a
                  href="../ImageGenerator/Simple.html">ValidatesCaptcha::ImageGenerator::Simple</a>
                  class.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000019-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000019-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 55</span>&#x000A;55:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">image_generator</span>&#x000A;56:           <span class="ruby-ivar">@@image_generator</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ValidatesCaptcha</span><span class="ruby-operator">::</span><span class="ruby-constant">ImageGenerator</span><span class="ruby-operator">::</span><span class="ruby-constant">Simple</span>.<span class="ruby-identifier">new</span>&#x000A;57:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000020'>
                <a name='M000020'></a>
                <div class='synopsis'>
                  <span class='name'>image_generator=</span>
                  <span class='arguments'>(generator)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the current captcha image generator. Used to set a custom image
                  generator.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000020-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000020-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 61</span>&#x000A;61:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">image_generator=</span>(<span class="ruby-identifier">generator</span>)&#x000A;62:           <span class="ruby-ivar">@@image_generator</span> = <span class="ruby-identifier">generator</span>&#x000A;63:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000025'>
                <a name='M000025'></a>
                <div class='synopsis'>
                  <span class='name'>salt</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the current salt used for encryption.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000025-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000025-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 90</span>&#x000A;90:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">salt</span>&#x000A;91:           <span class="ruby-ivar">@@salt</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">SALT</span>&#x000A;92:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000026'>
                <a name='M000026'></a>
                <div class='synopsis'>
                  <span class='name'>salt=</span>
                  <span class='arguments'>(salt)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the current salt used for encryption. Used to set a custom salt.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000026-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000026-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 96</span>&#x000A;96:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">salt=</span>(<span class="ruby-identifier">salt</span>)&#x000A;97:           <span class="ruby-ivar">@@salt</span> = <span class="ruby-identifier">salt</span>&#x000A;98:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000017'>
                <a name='M000017'></a>
                <div class='synopsis'>
                  <span class='name'>string_generator</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the current captcha string generator. Defaults to an instance of
                  the <a
                  href="../StringGenerator/Simple.html">ValidatesCaptcha::StringGenerator::Simple</a>
                  class.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000017-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000017-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 43</span>&#x000A;43:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">string_generator</span>&#x000A;44:           <span class="ruby-ivar">@@string_generator</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ValidatesCaptcha</span><span class="ruby-operator">::</span><span class="ruby-constant">StringGenerator</span><span class="ruby-operator">::</span><span class="ruby-constant">Simple</span>.<span class="ruby-identifier">new</span>&#x000A;45:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000018'>
                <a name='M000018'></a>
                <div class='synopsis'>
                  <span class='name'>string_generator=</span>
                  <span class='arguments'>(generator)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the current captcha string generator. Used to set a custom string
                  generator.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000018-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000018-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 49</span>&#x000A;49:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">string_generator=</span>(<span class="ruby-identifier">generator</span>)&#x000A;50:           <span class="ruby-ivar">@@string_generator</span> = <span class="ruby-identifier">generator</span>&#x000A;51:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000023'>
                <a name='M000023'></a>
                <div class='synopsis'>
                  <span class='name'>web_dir</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the current captcha image web directory. Defaults to
                  <tt>/images/captchas</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000023-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000023-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 79</span>&#x000A;79:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">web_dir</span>&#x000A;80:           <span class="ruby-ivar">@@web_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">'/images/captchas'</span>&#x000A;81:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-class' id='method-M000024'>
                <a name='M000024'></a>
                <div class='synopsis'>
                  <span class='name'>web_dir=</span>
                  <span class='arguments'>(dir)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the current captcha image web directory. Used to set a custom image
                  directory.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000024-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000024-source'>    <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 85</span>&#x000A;85:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">web_dir=</span>(<span class="ruby-identifier">dir</span>)&#x000A;86:           <span class="ruby-ivar">@@web_dir</span> = <span class="ruby-identifier">dir</span>&#x000A;87:         <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000029'>
                <a name='M000029'></a>
                <div class='synopsis'>
                  <span class='name'>call</span>
                  <span class='arguments'>(env)</span>
                </div>
                <div class='description'>
                  <p>
                  This method is the one called by Rack.
                  </p>
                  <p>
                  It returns HTTP status 404 if the path is not recognized. If the path is
                  recognized, it returns HTTP status 200 and delivers a new challenge in JSON
                  format.
                  </p>
                  <p>
                  Please take a look at the source code if you want to learn more.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000029-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000029-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 130</span>&#x000A;130:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">call</span>(<span class="ruby-identifier">env</span>)&#x000A;131:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">env</span>[<span class="ruby-value str">'PATH_INFO'</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">regenerate_path</span>&#x000A;132:           <span class="ruby-identifier">captcha_challenge</span> = <span class="ruby-identifier">generate_challenge</span>&#x000A;133:           <span class="ruby-identifier">json</span> = { <span class="ruby-identifier">:captcha_challenge</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">captcha_challenge</span>, <span class="ruby-identifier">:captcha_image_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">image_path</span>(<span class="ruby-identifier">captcha_challenge</span>) }.<span class="ruby-identifier">to_json</span>&#x000A;134: &#x000A;135:           [<span class="ruby-value">200</span>, { <span class="ruby-value str">'Content-Type'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'application/json'</span> }, [<span class="ruby-identifier">json</span>]]&#x000A;136:         <span class="ruby-keyword kw">else</span>&#x000A;137:           [<span class="ruby-value">404</span>, { <span class="ruby-value str">'Content-Type'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'text/html'</span> }, [<span class="ruby-value str">'Not Found'</span>]]&#x000A;138:         <span class="ruby-keyword kw">end</span>&#x000A;139:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000031'>
                <a name='M000031'></a>
                <div class='synopsis'>
                  <span class='name'>challenges</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an array containing the available challenges (encrypted captcha
                  codes).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000031-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000031-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 147</span>&#x000A;147:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">challenges</span>&#x000A;148:         <span class="ruby-ivar">@challenges</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">images</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">image_file_extension</span>) }&#x000A;149:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000032'>
                <a name='M000032'></a>
                <div class='synopsis'>
                  <span class='name'>generate_challenge</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a captcha challenge.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000032-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000032-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 152</span>&#x000A;152:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_challenge</span>&#x000A;153:         <span class="ruby-identifier">raise</span>(<span class="ruby-node">&quot;no captcha images found in #{filesystem_dir}&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">challenges</span>.<span class="ruby-identifier">empty?</span>&#x000A;154: &#x000A;155:         <span class="ruby-identifier">challenges</span>[<span class="ruby-identifier">rand</span>(<span class="ruby-identifier">challenges</span>.<span class="ruby-identifier">size</span>)]&#x000A;156:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000030'>
                <a name='M000030'></a>
                <div class='synopsis'>
                  <span class='name'>images</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an array containing the paths to the available captcha images.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000030-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000030-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 142</span>&#x000A;142:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">images</span>&#x000A;143:         <span class="ruby-ivar">@images</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Dir</span>[<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">filesystem_dir</span>, <span class="ruby-node">&quot;*#{image_file_extension}&quot;</span>)]&#x000A;144:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000034'>
                <a name='M000034'></a>
                <div class='synopsis'>
                  <span class='name'>render_challenge</span>
                  <span class='arguments'>(sanitized_object_name, object, options = {})</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an image tag with the source set to the url of the captcha image.
                  </p>
                  <p>
                  Internally calls Rails&#8217; <tt>image_tag</tt> helper method, passing the
                  <tt>options</tt> argument.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000034-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000034-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 167</span>&#x000A;167:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_challenge</span>(<span class="ruby-identifier">sanitized_object_name</span>, <span class="ruby-identifier">object</span>, <span class="ruby-identifier">options</span> = {})&#x000A;168:         <span class="ruby-identifier">src</span> = <span class="ruby-identifier">image_path</span>(<span class="ruby-identifier">object</span>.<span class="ruby-identifier">captcha_challenge</span>)&#x000A;169: &#x000A;170:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:alt</span>] <span class="ruby-operator">||=</span> <span class="ruby-value str">'CAPTCHA'</span>&#x000A;171:         <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:id</span>] = <span class="ruby-node">&quot;#{sanitized_object_name}_captcha_image&quot;</span>&#x000A;172: &#x000A;173:         <span class="ruby-identifier">image_tag</span> <span class="ruby-identifier">src</span>, <span class="ruby-identifier">options</span>&#x000A;174:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000035'>
                <a name='M000035'></a>
                <div class='synopsis'>
                  <span class='name'>render_regenerate_challenge_link</span>
                  <span class='arguments'>(sanitized_object_name, object, options = {}, html_options = {})</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an anchor tag that makes an AJAX request to fetch a new captcha
                  code and updates the captcha image after the request is complete.
                  </p>
                  <p>
                  Internally calls Rails&#8217; <tt>link_to_remote</tt> helper method,
                  passing the <tt>options</tt> and <tt>html_options</tt> arguments. So it
                  relies on the Prototype javascript framework to be available on the web
                  page. As of version 0.9.8 you can pass <tt>:jquery =&gt; true</tt> as an
                  option to render Javascript that&#8217;s based on jQuery.
                  </p>
                  <p>
                  The anchor text defaults to &#8216;Regenerate Captcha&#8217;. You can set
                  this to a custom value providing a <tt>:text</tt> key in the
                  <tt>options</tt> hash.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000035-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000035-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 186</span>&#x000A;186:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_regenerate_challenge_link</span>(<span class="ruby-identifier">sanitized_object_name</span>, <span class="ruby-identifier">object</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {})&#x000A;187:         <span class="ruby-identifier">text</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:text</span>) <span class="ruby-operator">||</span> <span class="ruby-value str">'Regenerate Captcha'</span>&#x000A;188:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:jquery</span>)&#x000A;189:           <span class="ruby-identifier">onclick</span> = <span class="ruby-node">&quot;jQuery.getJSON('#{regenerate_path}', function(result){jQuery('##{sanitized_object_name}_captcha_image').attr('src',result.captcha_image_path); jQuery('##{sanitized_object_name}_captcha_challenge').val(result.captcha_challenge); jQuery('##{sanitized_object_name}_captcha_solution').val('');});return false;&quot;</span>&#x000A;190:           <span class="ruby-identifier">link_to</span> <span class="ruby-identifier">text</span>, <span class="ruby-value str">&quot;#&quot;</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge</span>(<span class="ruby-identifier">:onclick</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">onclick</span>), <span class="ruby-identifier">html_options</span>&#x000A;191:         <span class="ruby-keyword kw">else</span>&#x000A;192:           <span class="ruby-identifier">success</span> = <span class="ruby-node">&quot;var result = request.responseJSON; $('#{sanitized_object_name}_captcha_image').src = result.captcha_image_path; $('#{sanitized_object_name}_captcha_challenge').value = result.captcha_challenge; $('#{sanitized_object_name}_captcha_solution').value = '';&quot;</span>&#x000A;193:           <span class="ruby-identifier">link_to_remote</span> <span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">reverse_merge</span>(<span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">regenerate_path</span>, <span class="ruby-identifier">:method</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:get</span>, <span class="ruby-identifier">:success</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">success</span>), <span class="ruby-identifier">html_options</span>&#x000A;194:         <span class="ruby-keyword kw">end</span>&#x000A;195:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000033'>
                <a name='M000033'></a>
                <div class='synopsis'>
                  <span class='name'>solved?</span>
                  <span class='arguments'>(challenge, solution)</span>
                </div>
                <div class='description'>
                  <p>
                  Returns true if the captcha was solved using the given <tt>challenge</tt>
                  and <tt>solution</tt>, otherwise false.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000033-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000033-source'>     <span class="ruby-comment cmt"># File lib/validates_captcha/provider/static_image.rb, line 160</span>&#x000A;160:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">solved?</span>(<span class="ruby-identifier">challenge</span>, <span class="ruby-identifier">solution</span>)&#x000A;161:         <span class="ruby-identifier">challenge</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">encrypt</span>(<span class="ruby-identifier">solution</span>)&#x000A;162:       <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
    <script type="text/javascript">var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));</script><script type="text/javascript">try { var pageTracker = _gat._getTracker("UA-10871272-1"); pageTracker._trackPageview(); } catch(err) {}</script>
  </body>
</html>
